!function(t){"use strict";function i(i){this.$el=i,this.options={},this.results=[],this._page=1,this.init=function(i){t.extend(this.options,t.fn.paginate.defaults,i),this.options.count&&(this.$el.wrap('<div class="row pagination-wrapper"/>').before('<div class="col-md-5 pagination-count"/>'),this.$el.addClass("col-md-7")),this.items=t(this.options.selector),this.$el.data("$el",this),this.pagine()},this.pagine=function(i){var s=this.options.startPage;if(location.hash){var e=location.hash.match(/page-([0-9]+)/);e&&e.length>1&&(s=e[1])}if("function"==typeof i?this.results=this.items.filter(i):(this.results=this.items.filter(function(){var i=t(this).data("p_filtered");return i===!0||void 0===i}),"undefined"!=typeof i&&(i=parseInt(i),i>1&&(s=i))),this.options.hideWhenUseless){var n=this.results.length<=this.options.nbItemsPerPage?"hide":"show";this.options.count?this.$el.parent()[n]():this.$el[n]()}this.options.totalPages=Math.ceil(this.results.length/this.options.nbItemsPerPage),this.setPage(s)},this.setPage=function(i){if(i=i>this.options.totalPages||1>i?1:parseInt(i),!(this.options.totalPages<1)){t.isFunction(this.options.onClick)&&this.options.onClick(i);var e,n,o=parseInt(this.options.visiblePages/2),a=t.proxy(this.setPage,this);i+o<=this.options.totalPages?(e=Math.max(i-o,1),n=Math.min(e+this.options.visiblePages-1,this.options.totalPages)):(n=Math.min(i+o,this.options.totalPages),e=Math.max(n-this.options.visiblePages+1,1)),this.$el.empty();for(var h=e;n>=h;h++){var l=s.page(h,"page");h==i&&l.addClass("active"),this.$el.append(l.click(s.click(h,a)))}this.options.prev!==!1&&this.$el.prepend(s.page(this.options.prev,"prev").click(s.click(i-1,a))),this.options.first!==!1&&this.$el.prepend(s.page(this.options.first,"first").click(s.click(1,a))),this.options.next!==!1&&this.$el.append(s.page(this.options.next,"next").click(s.click(i+1,a))),this.options.last!==!1&&this.$el.append(s.page(this.options.last,"last").click(s.click(this.options.totalPages,a))),1===i&&this.$el.find(".first, .prev").addClass("disabled"),i===this.options.totalPages&&this.$el.find(".last, .next").addClass("disabled"),this.options.href&&(location.hash=this.options.href.replace("{{number}}",i)),this.drawPage(i)}},this.update=function(t){this.pagine(t)},this.drawPage=function(i){this.items.data("p_filtered",!1).hide(),this.page=i;var s=(i-1)*this.options.nbItemsPerPage,e=this.options.nbItemsPerPage+s,n=0;if(this.results.each(function(i){t(this).data("p_filtered",!0),i>=s&&e>i&&(n++,t(this).show())}),t.isFunction(this.options.onDraw)&&this.options.onDraw(i),this.options.count){var o=s+1,a=s+n;this.$el.prev(".pagination-count").text((o!=a?o+" Ã  "+a:o)+" sur "+this.results.length)}},this.option=function(t,i){this.options[t]=i,this.$el.data("$el",this)},this.getCount=function(){return this.results.length},this.getPageCount=function(){return this.options.totalPages},this.getPage=function(){return this.page},this.remove=function(){this.options.count&&(this.$el.removeClass("col-md-7").data("$el",null),this.$el.parent().before(this.$el).remove()),this.$el.data("$el",null)}}var s={click:function(t,i){return function(s){s.preventDefault(),i(t)}},page:function(i,s){return t('<li class="'+s+'" />').append('<a href="#">'+i+"</a>")}};t.fn.paginate=function(s){var e,n=this.data("$el"),o=n||new i(this);return n?t.isFunction(o[s])&&"_"!=s.charAt(0)&&(e=o[s].apply(o,[].slice.call(arguments,1))):e=o.init(s),~[void 0,null].indexOf(e)?this:e},t.fn.paginate.defaults={startPage:1,totalPages:1,visiblePages:5,href:"#/page-{{number}}",first:"",prev:!1,next:!1,last:"",selector:".item",nbItemsPerPage:5,onClick:t.noop,onDraw:t.noop,hideWhenUseless:!0,count:!1}}(jQuery);