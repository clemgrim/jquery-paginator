!function(t,i){"use strict";function s(s){this.$el=s,this.options={},this.results=[],this._page=1,this.totalPages=1,this.init=function(i){t.extend(this.options,t.fn.paginate.defaults,i),this.options.count&&(this.options.counterTarget||(this.$el.wrap('<div class="row pagination-wrapper"/>').before('<div class="col-md-5 pagination-count"/>'),this.$el.addClass("col-md-7"))),this.items=t(this.options.selector),this.$el.data("$el",this),this.pagine()},this.pagine=function(s){var e=this.options.startPage;if(location.hash){var n=location.hash.match(/page-([0-9]+)/);n&&n.length>1&&(e=n[1])}if("function"==typeof s?this.results=this.items.filter(s):(this.results=this.items.filter(function(){var s=t(this).data("p_filtered");return s===!0||s===i}),s>1&&(e=parseInt(s))),this.options.hideWhenUseless){var a=this.results.length<=this.options.nbItemsPerPage?"hide":"show";this.options.count?this.options.counterTarget?this._getCounterTarget().add(this.$el)[a]():this.$el.parent()[a]():this.$el[a]()}this.totalPages=Math.ceil(this.results.length/this.options.nbItemsPerPage),this.setPage(e)},this.setPage=function(t){t=t>this.totalPages||1>t?1:parseInt(t);var i,s,e=parseInt(this.options.visiblePages/2);t+e<=this.totalPages?(i=Math.max(t-e,1),s=Math.min(i+this.options.visiblePages-1,this.totalPages)):(s=Math.min(t+e,this.totalPages),i=Math.max(s-this.options.visiblePages+1,1)),this._build(t,i,s),this.options.href&&(location.hash=this.options.href.replace("{{number}}",t)),this.drawPage(t)},this.update=function(t){this.pagine(t)},this.drawPage=function(i){this.items.data("p_filtered",!1).hide(),this.page=i;var s=(i-1)*this.options.nbItemsPerPage,e=this.options.nbItemsPerPage+s,n=0;if(this.results.each(function(i){t(this).data("p_filtered",!0),i>=s&&e>i&&(n++,t(this).show())}),t.isFunction(this.options.onDraw)&&this.options.onDraw(i),this.options.count){var a=s+1,o=s+n,h=a!=o?this.options.counter:this.options.counterObvious;h=h.replace("{{first}}",a).replace("{{last}}",o).replace("{{count}}",this.results.length).replace("{{page}}",i).replace("{{pageCount}}",this.totalPages),this._getCounterTarget().html(h)}},this.option=function(t,i){this.options[t]=i,this.$el.data("$el",this)},this.getCount=function(){return this.results.length},this.getPageCount=function(){return this.totalPages},this.getPage=function(){return this.page},this.remove=function(){this.options.count&&(this.options.countTarget?this._getCounterTarget().empty():(this.$el.removeClass("col-md-7").data("$el",null),this.$el.parent().before(this.$el).remove())),this.$el.data("$el",null).empty()},this._getCounterTarget=function(){return this.options.counterTarget?t(this.options.counterTarget):this.$el.prev(".pagination-count")},this._pageClick=function(i){var s=this;return function(e){e.preventDefault(),t.isFunction(s.options.onClick)&&s.options.onClick(i),s.setPage(i)}},this._build=function(t,i,s){if(this.$el.empty(),!(i>s)){for(var e=i;s>=e;e++){var n=Pagination.page(e,"page",this._pageClick(e));e==t&&n.addClass("active"),this.$el.append(n)}this.options.prev!==!1&&this.$el.prepend(this._page(this.options.prev,"prev",this._pageClick(t-1))),this.options.first!==!1&&this.$el.prepend(this._page(this.options.first,"first",this._pageClick(1))),this.options.next!==!1&&this.$el.append(this._page(this.options.next,"next",this._pageClick(t+1))),this.options.last!==!1&&this.$el.append(this._page(this.options.last,"last",this._pageClick(this.totalPages))),1===t&&this.$el.find(".first, .prev").addClass("disabled"),t===this.totalPages&&this.$el.find(".last, .next").addClass("disabled")}},this._page=function(i,s,e){return t('<li class="'+s+'" />').append('<a href="#">'+i+"</a>").click(e||t.noop)}}t.fn.paginate=function(e){var n,a=this.data("$el"),o=a||new s(this);return a?t.isFunction(o[e])&&"_"!=e.charAt(0)&&(n=o[e].apply(o,[].slice.call(arguments,1))):n=o.init(e),~[i,null].indexOf(n)?this:n},t.fn.paginate.defaults={startPage:1,visiblePages:5,href:"#/page-{{number}}",first:"",prev:!1,next:!1,last:"",selector:".item",nbItemsPerPage:5,onClick:t.noop,onDraw:t.noop,hideWhenUseless:!0,count:!1,counter:"{{first}} to {{last}} of {{count}}",counterObvious:"{{first}} of {{count}}",counterTarget:!1}}(jQuery);